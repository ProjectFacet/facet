{% extends 'base.html' %}

{% load i18n %}
{% load bootstrap3 %}

<!-------------------------------------------->
<!--      BREADCRUMB NAVIGATION             -->
<!-------------------------------------------->

{% block breadcrumb %}
<div>
    <ol class="breadcrumb icon-angle-right icon-th">
        <li class="fadeIn"><a href="{% url 'dashboard' %}" title="Go to Dashboard"> Dashboard </a></li>
        <li class="fadeIn">TEST</li>
    </ol>
</div>
{% endblock breadcrumb %}

<!-------------------------------------------->
<!--            Main Section                -->
<!-------------------------------------------->

{% block content %}

<div class="row m-b-40">
  <div class="col-xs-12">

    {% for audio in audiofiles %}
      {% if audio.audio_type == 'WAV' or audio.audio_type == 'MP3' %}
      <div id="jplayer_audio_{{audio.pk}}" class="jp-jplayer"></div>

      <div id="jp_container_audio_{{audio.pk}}" class="jp-flat-audio" role="application" aria-label="media player">
        <div class="jp-play-control jp-control">
          <button class="jp-play jp-button" role="button" aria-label="play" tabindex="0"></button>
        </div>
        <div class="jp-bar">
          <div class="jp-seek-bar jp-seek-bar-display"></div>
          <div class="jp-seek-bar">
            <div class="jp-play-bar"></div>
            <div class="jp-details"><span class="jp-title" aria-label="title"></span></div>
            <div class="jp-timing"><span class="jp-duration" role="timer" aria-label="duration"></span></div>
          </div>
        </div>
        <div class="jp-no-solution">
          Media Player Error<br />
          Update your browser or Flash plugin
        </div>
      </div>
      <script>
      jQuery(document).ready(function($) {
        $("#jplayer_audio_{{audio.pk}}").jPlayer({
          ready: function(event) {
            $(this).jPlayer("setMedia", {
              title: "{{audio.asset_title}}",
              wav: "{{audio.audio.url}}",
              mp3: "{{audio.audio.url}}",
            });
          },
          play: function() { // Avoid multiple jPlayers playing together.
            $(this).jPlayer("pauseOthers");
          },
          timeFormat: {
            padMin: false
          },
          swfPath: "js",
          supplied: "wav, mp3",
          cssSelectorAncestor: "#jp_container_audio_{{audio.pk}}",
          useStateClassSkin: true,
          autoBlur: false,
          smoothPlayBar: true,
          remainingDuration: true,
          keyEnabled: true,
          keyBindings: {
            // Disable some of the default key controls
            loop: null,
            muted: null,
            volumeUp: null,
            volumeDown: null
          },
          wmode: "window"
        });
      });
      </script>
      {% endif %}
    {% endfor %}


    {% comment %}
    <div id="jquery_jplayer_audio_1" class="jp-jplayer"></div>

    <div id="jp_container_audio_1" class="jp-flat-audio" role="application" aria-label="media player">
      <div class="jp-play-control jp-control">
        <button class="jp-play jp-button" role="button" aria-label="play" tabindex="0"></button>
      </div>
      <div class="jp-bar">
        <div class="jp-seek-bar jp-seek-bar-display"></div>
        <div class="jp-seek-bar">
          <div class="jp-play-bar"></div>
          <div class="jp-details"><span class="jp-title" aria-label="title"></span></div>
          <div class="jp-timing"><span class="jp-duration" role="timer" aria-label="duration"></span></div>
        </div>
      </div>
      <div class="jp-no-solution">
        Media Player Error<br />
        Update your browser or Flash plugin
      </div>
    </div>
    {% endcomment %}


  </div>
</div>



{% endblock %}


{% block modals %}

{% endblock %}
