{% extends 'base.html' %}

{% load i18n %}
{% load bootstrap3 %}

{% block content %}

<div class="row particles" id="user-hero">
  <div class="upper-content">
    <div class="col-lg-12 content-upper-75">
      <h1 class="media-heading text-light center thin uppercase spread-025">Test (Download)</h1>
    </div>
  </div>
</div>

<div class="row">
<a href="#" data-toggle="modal" data-target="#downloadStory" title="Download"><i class="fa fa-cloud-download"></i></a>
</div>


<div class="modal fade" id="downloadStory" tabindex="-1" role="dialog" aria-labelledby="downloadStory">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4>Select items to download <i class="fa fa-cloud-download dark"></i><h4>
      </div> <!--Close modal header -->
      <div class="modal-body">
        <div class="row">
          <div class="col-xs-12">
          <form action="{% url 'create_download' pk=1 %}" method="POST" class="post-form" enctype="multipart/form-data">
          {% csrf_token %}

            <input type="hidden" name="story" value="1" />

            <div class="row">
              <div class="col-xs-12">
                <!-- ================================================= -->
                                  <!-- SELECT ALL -->
                <!-- ================================================= -->
                <div class="form-group custom-form">
                  <a href="#" data-toggle="tooltip" title="{{ storydownloadform.select_all.help_text }}"><label class="field-label">Select All</label></a>
                  {{ storydownloadform.select_all }}
                  {% if storydownloadform.select_all.errors %}
                    <div class="alert alert-warning" role="alert">
                    {{ storydownloadform.select_all.errors }}
                    </div>
                  {% endif %}
                </div>
                <hr class="dark">
                <p class="tiny-text dark">Or select specific versions</p>
              </div>
            </div>
            <!-- ================================================= -->
                        <!-- SELECT FACET - ALL ITEMS -->
            <!-- ================================================= -->
            <div class="row">
              {% if story.webfacetstory.all %}
              <div class="col-xs-12 col-sm-6 col-md-3 col-lg-3">
                <!-- SELECT WEBFACET ALL -->
                <div class="form-group custom-form">
                  <a href="#" data-toggle="tooltip" title="{{ storydownloadform.webfacet_sa.help_text }}"><span class="field-label">{{ storydownloadform.webfacet_sa.label_tag }}</span></a>
                  {{ storydownloadform.webfacet_sa }}
                  {% if storydownloadform.webfacet_sa.errors %}
                    <div class="alert alert-warning" role="alert">
                    {{ storydownloadform.webfacet_sa.errors }}
                    </div>
                  {% endif %}
                </div>
              </div>
              {% endif %}
              {% if story.printfacetstory.all %}
              <div class="col-xs-12 col-sm-6 col-md-3 col-lg-3">
                <!-- SELECT PRINTFACET ALL -->
                <div class="form-group custom-form">
                  <a href="#" data-toggle="tooltip" title="{{ storydownloadform.printfacet_sa.help_text }}"><span class="field-label">{{ storydownloadform.printfacet_sa.label_tag }}</span></a>
                  {{ storydownloadform.printfacet_sa }}
                  {% if storydownloadform.printfacet_sa.errors %}
                    <div class="alert alert-warning" role="alert">
                    {{ storydownloadform.printfacet_sa.errors }}
                    </div>
                  {% endif %}
                </div>
              </div>
              {% endif %}
              {% if story.audiofacetstory.all %}
              <div class="col-xs-12 col-sm-6 col-md-3 col-lg-3">
                <!-- SELECT AUDIOFACET ALL -->
                <div class="form-group custom-form">
                  <a href="#" data-toggle="tooltip" title="{{ storydownloadform.audiofacet_sa.help_text }}"><span class="field-label">{{ storydownloadform.audiofacet_sa.label_tag }}</span></a>
                  {{ storydownloadform.audiofacet_sa }}
                  {% if storydownloadform.audiofacet_sa.errors %}
                    <div class="alert alert-warning" role="alert">
                    {{ storydownloadform.audiofacet_sa.errors }}
                    </div>
                  {% endif %}
                </div>
              </div>
              {% endif %}
              {% if story.videofacetstory.all %}
              <div class="col-xs-12 col-sm-6 col-md-3 col-lg-3">
                <!-- OR SELECT VIDEOFACET ALL -->
                <div class="form-group custom-form">
                  <a href="#" data-toggle="tooltip" title="{{ storydownloadform.videofacet_sa.help_text }}"><span class="field-label">{{ storydownloadform.videofacet_sa.label_tag }}</span></a>
                  {{ storydownloadform.videofacet_sa }}
                  {% if storydownloadform.videofacet_sa.errors %}
                    <div class="alert alert-warning" role="alert">
                    {{ storydownloadform.videofacet_sa.errors }}
                    </div>
                  {% endif %}
                </div>
              </div>
              {% endif %}
            </div>


            <!-- ================================================= -->
                        <!-- SELECT SPECIFIC ITEMS -->
            <!-- ================================================= -->
            <div class="row">
            <div class="col-xs-12">
            <hr class="dark">
            <p class="tiny-text dark">Or select specific content</p>
            </div>
            {% if story.webfacetstory.all %}
            <!-- ================    WEBFACET   ================== -->
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-3">
              <!-- SELECT WEBFACET CONTENT -->
              <div class="form-group custom-form">
                <a href="#" data-toggle="tooltip" title="{{ storydownloadform.webfacet.help_text }}"><span class="field-label">{{ storydownloadform.webfacet.label_tag }}</span></a>
                {{ storydownloadform.webfacet }}
                {% if storydownloadform.webfacet.errors %}
                  <div class="alert alert-warning" role="alert">
                  {{ storydownloadform.webfacet.errors }}
                  </div>
                {% endif %}
              </div>
              <!-- SELECT WEBFACET IMAGES -->
              <div class="image-library">
              {% for image in webfacet_images %}
                <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                  <label>
                    <img class="img-responsive img-thumbnail" src="{{ image.display_photo.url }}" alt="{{ image.asset_description }}">
                    <input type="checkbox" name="images" value="{{ image.id }}">
                  </label>
                </div>
              {% endfor %}
              </div>
              </br>
            </div>
            {% endif %}

            {% if story.printfacetstory.all %}
            <!-- ==============    PRINTFACET   ================ -->
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-3">
              <!-- SELECT PRINTFACET CONTENT -->
              <div class="form-group custom-form">
                <a href="#" data-toggle="tooltip" title="{{ storydownloadform.printfacet.help_text }}"><span class="field-label">{{ storydownloadform.printfacet.label_tag }}</span></a>
                {{ storydownloadform.printfacet }}
                {% if storydownloadform.printfacet.errors %}
                  <div class="alert alert-warning" role="alert">
                  {{ storydownloadform.printfacet.errors }}
                  </div>
                {% endif %}
              </div>
              <!-- SELECT PRINTFACET IMAGES -->
              <div class="image-library">
              {% for image in printfacet_images %}
                <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                  <label>
                    <img class="img-responsive img-thumbnail" src="{{ image.display_photo.url }}" alt="{{ image.asset_description }}">
                    <input type="checkbox" name="images" value="{{ image.id }}">
                  </label>
                </div>
              {% endfor %}
              </div>
              </br>
            </div>
            {% endif %}

            {% if story.audiofacetstory.all %}
            <!-- ==============    AUDIOFACET   ================ -->
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-3">
              <!-- SELECT AUDIOFACET CONTENT -->
              <div class="form-group custom-form">
                <a href="#" data-toggle="tooltip" title="{{ storydownloadform.audiofacet.help_text }}"><span class="field-label">{{ storydownloadform.audiofacet.label_tag }}</span></a>
                {{ storydownloadform.audiofacet }}
                {% if storydownloadform.audiofacet.errors %}
                  <div class="alert alert-warning" role="alert">
                  {{ storydownloadform.audiofacet.errors }}
                  </div>
                {% endif %}
              </div>
              <!-- SELECT AUDIOFACET IMAGES -->
              <div class="image-library">
              {% for image in audiofacet_images %}
                <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                  <label>
                    <img class="img-responsive img-thumbnail" src="{{ image.display_photo.url }}" alt="{{ image.asset_description }}">
                    <input type="checkbox" name="images" value="{{ image.id }}">
                  </label>
                </div>
              {% endfor %}
              </div>
              </br>
            </div>
            {% endif %}

            {% if story.videofacetstory.all %}
            <!-- ==============    VIDEOFACET   ================ -->
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-3">
              <!-- SELECT VIDEOFACET CONTENT -->
              <div class="form-group custom-form">
                <a href="#" data-toggle="tooltip" title="{{ storydownloadform.videofacet.help_text }}"><span class="field-label">{{ storydownloadform.videofacet.label_tag }}</span></a>
                {{ storydownloadform.videofacet }}
                {% if storydownloadform.videofacet.errors %}
                  <div class="alert alert-warning" role="alert">
                  {{ storydownloadform.videofacet.errors }}
                  </div>
                {% endif %}
              </div>
              <!-- SELECT VIDEOFACET IMAGES -->
              <div class="image-library">
              {% for image in videofacet_images %}
                <div class="col-xs-6 col-sm-4 col-md-4 col-lg-4">
                  <label>
                    <img class="img-responsive img-thumbnail" src="{{ image.display_photo.url }}" alt="{{ image.asset_description }}">
                    <input type="checkbox" name="images" value="{{ image.id }}">
                  </label>
                </div>
              {% endfor %}
              </div>
              </br>
            </div>
            {% endif %}
          </div>

            <div class="col-xs-2 col-md-offset-5">
            <button type="submit" class="btn btn-primary">Download</button>
            </div>
          </form>
        </div>
        </div>

      </div> <!--Close modal body -->
      <div class="modal-footer">
      </div>
    </div> <!-- Close modal content -->
  </div> <!-- Close modal dialog -->
</div> <!-- Close modal -->

{% endblock %}
