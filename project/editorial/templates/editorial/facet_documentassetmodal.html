<!-- Document Asset Modal -->

<div class="modal fade" id="DocumentAssetModal" tabindex="-1" role="dialog" aria-labelledby="DocumentAssetModal">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="bs-nav-tabs nav-tabs-default">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <ul class="nav nav-tabs nav-animated-border-from-left">
            <li class="nav-item"> <a ng-href="" class="nav-link active" data-toggle="tab" data-target="#uploaddocument">Upload a Document</a></li>
            <li class="nav-item"> <a ng-href="" class="nav-link" data-toggle="tab" data-target="#documentlibrary">Select From Document Library</a></li>
          </ul>
        </div>
        {% with view.facet_document_assets as document_assets %}
        <div class="modal-body" id="documentmodalbody">
          <div class="tab-content">
            <!-- UPLOAD PANEL -->
            <div role="tabpanel" class="tab-pane active" id="uploaddocument">
              <div class="uploadpanel" data-toggle="slimScroll" style="height:500px" data-color="#5D9CEC" data-allow-page-scroll="false">
              <form action="{% url 'upload_document' %}" method="POST" class="post-form" enctype="multipart/form-data">
              {% csrf_token %}
              <!-- Left Col -->
              <div class="col-md-6">

                <fieldset class="form-group m-b-10">
                  <label class="f-s-14 f-s-400 spread-01 subtle slim-margin">{{ document_assets.uploadform.document.label_tag }}</label>
                  {{ document_assets.uploadform.document }}
                  {% if document_assets.uploadform.document.errors %}
                    <small class="text-muted">{{ document_assets.uploadform.document.errors }}</small>
                  {% endif %}
                </fieldset>

                <fieldset class="form-group m-b-10">
                  <label class="f-s-14 f-s-400 spread-01 subtle slim-margin">{{ document_assets.uploadform.title.label_tag }}</label>
                  {{ document_assets.uploadform.title }}
                  {% if document_assets.uploadform.title.errors %}
                    <small class="text-muted">{{ document_assets.uploadform.title.errors }}</small>
                  {% endif %}
                </fieldset>

                <fieldset class="form-group m-b-10">
                  <label class="f-s-14 f-s-400 spread-01 subtle slim-margin">{{ document_assets.uploadform.asset_type.label_tag }}</label>
                  {{ document_assets.uploadform.asset_type }}
                  {% if document_assets.uploadform.asset_type.errors %}
                    <small class="text-muted">{{ document_assets.uploadform.asset_type.errors }}</small>
                  {% endif %}
                </fieldset>

                <fieldset class="form-group m-b-10">
                  <label class="f-s-14 f-s-400 spread-01 subtle slim-margin">{{ document_assets.uploadform.keywords.label_tag }}</label>
                  {{ document_assets.uploadform.keywords }}
                  {% if document_assets.uploadform.keywords.errors %}
                    <small class="text-muted">{{ document_assets.uploadform.keywords.errors }}</small>
                  {% endif %}
                </fieldset>

              </div>
              <!-- End Left Col -->
              <!-- Right Col -->
              <div class="col-md-6">

                <fieldset class="form-group m-b-10">
                  <label class="f-s-14 f-s-400 spread-01 subtle slim-margin">{{ document_assets.uploadform.description.label_tag }}</label>
                  {{ document_assets.uploadform.description }}
                  {% if document_assets.uploadform.description.errors %}
                    <small class="text-muted">{{ document_assets.uploadform.description.errors }}</small>
                  {% endif %}
                </fieldset>

                <fieldset class="form-group m-b-10">
                  <label class="f-s-14 f-s-400 spread-01 subtle slim-margin">{{ document_assets.uploadform.attribution.label_tag }}</label>
                  {{ document_assets.uploadform.attribution }}
                  {% if document_assets.uploadform.attribution.errors %}
                    <small class="text-muted">{{ document_assets.uploadform.attribution.errors }}</small>
                  {% endif %}
                </fieldset>

              </div>
              <!-- End Right Col -->
              <!-- ===================================== -->
              <!-- ===================================== -->
              <div class="hidden-document-inputs">
                  <input type="hidden" name="facet" value="{{ facet.pk }}" />
              </div>
              <!-- ===================================== -->
              <!-- ===================================== -->
              <div>
                <button type="submit" class="btn btn-primary m-l-20">Save Document</button>
              </div>
              </form>
              </div>
            </div>
            <!-- END UPLOAD PANEL -->

            <!-- LIBRARY PANEL -->
            <div role="tabpanel" class="tab-pane" id="documentlibrary">
              <div class="documentlibrary" data-toggle="slimScroll" style="height:500px" data-color="#5D9CEC" data-allow-page-scroll="false">
                <form action="{% url 'add_document' %}" method="POST" class="post-form" name="adddocument">
                  {% csrf_token %}
                  <div class="row document-library">
                  {% for document in document_assets.org_documents %}
                    <div class="col-md-2" id="doc-library-modal">
                      <label>
                        {% if document.asset_type == "PDF" %}
                        <a href="{% url 'document_asset_detail' pk=document.id %}">
                          <div class="card bs-card">
                            <div class="card-block bg-danger-500 p-10">
                              <p class="f-r-10 f-w-300 text-center m-b-0"> <i class="fa fa-file-pdf-o text-center"></i> .pdf </p>
                            </div>
                            <div class="card-block  m-h-100 p-10">
                              <p class="f-r-8 f-w-400"> {{ document.title }} </p>
                            </div>
                          </div>
                        </a>
                        {% elif document.asset_type == "WORD DOC" %}
                        <a href="{% url 'document_asset_detail' pk=document.id %}">
                          <div class="card bs-card">
                            <div class="card-block bg-info-500 p-10">
                              <p class="f-r-10 f-w-300 text-center m-b-0"> <i class="fa fa-file-word-o text-center"> </i> .docx </p>
                            </div>
                            <div class="card-block  m-h-100 p-10">
                              <p class="f-r-8 f-w-400"> {{ document.title }} </p>
                            </div>
                          </div>
                        </a>
                        {% elif document.asset_type == "TEXT" %}
                        <a href="{% url 'document_asset_detail' pk=document.id %}">
                          <div class="card bs-card">
                            <div class="card-block bg-primary-500 p-10">
                              <p class="f-r-10 f-w-300 text-center m-b-0"> <i class="fa fa-file-text-o text-center"> </i> .txt </p>
                            </div>
                            <div class="card-block  m-h-100 p-10">
                              <p class="f-r-8 f-w-400"> {{ document.title }} </p>
                            </div>
                          </div>
                        </a>
                        {% elif document.asset_type == "COMMA SEPARATED" %}
                        <a href="{% url 'document_asset_detail' pk=document.id %}">
                          <div class="card bs-card">
                            <div class="card-block bg-success-500 p-10">
                              <p class="f-r-10 f-w-300 text-center m-b-0"> <i class="fa fa-file-excel-o text-center"> </i> .csv </p>
                            </div>
                            <div class="card-block  m-h-100 p-10">
                              <p class="f-r-8 f-w-400"> {{ document.title }} </p>
                            </div>
                          </div>
                        </a>
                        {% elif document.asset_type == "EXCEL" %}
                        <a href="{% url 'document_asset_detail' pk=document.id %}">
                          <div class="card bs-card">
                            <div class="card-block bg-success-500 p-10">
                              <p class="f-r-10 f-w-300 text-center m-b-0"> <i class="fa fa-file-excel-o text-center"> </i> .xls </p>
                            </div>
                            <div class="card-block  m-h-100 p-10">
                              <p class="f-r-8 f-w-400"> {{ document.title }} </p>
                            </div>
                          </div>
                        </a>
                        {% elif document.asset_type == "OTHER" %}
                        <a href="{% url 'document_asset_detail' pk=document.id %}">
                          <div class="card bs-card">
                            <div class="card-block bg-warning-500 p-10">
                              <p class="f-r-10 f-w-300 text-center m-b-0"> <i class="fa fa-file-o text-center"> </i> other </p>
                            </div>
                            <div class="card-block m-h-100 p-10">
                              <p class="f-r-8 f-w-400"> {{ document.title }} </p>
                            </div>
                          </div>
                        </a>
                        {% endif %}

                        {% if document in document_assets.documents %}
                        <i class="fa fa-check-square subtle" aria-hidden="true"></i>
                        {% else %}
                        <input type="checkbox" name="documents" value="{{ document.id }}">
                        {% endif %}
                      </label>
                    </div>
                    {% if forloop.counter|divisibleby:"6" and not forloop.last %}
                      </div><div class="row">
                    {% endif %}
                  {% endfor %}
                  </div>

                <!-- ===================================== -->
                <!-- ===================================== -->
                <div class="hidden-document-inputs">
                    <input type="hidden" name="facet" value="{{ facet.pk }}" />
                </div>
                <!-- ===================================== -->
                <!-- ===================================== -->

                  <div class="row">
                    <div class="col-xs-12">
                      <button type="submit" class="btn btn-primary" name="adddocument">Add Document</button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
            <!-- END LIBRARY PANEL -->
          </div>
        </div>
        {% endwith %}
        </div>
        <div class="modal-footer"></div>
      </div>
    </div>
  </div>
</div>
